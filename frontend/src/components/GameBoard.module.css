@import '../styles/design-tokens.css';
@import '../styles/utilities/index.css';

/* GameBoard Component Styles - Baseball Diamond Layout */

/* 
  REFACTORING NOTES:
  This CSS module has been refactored to use utility classes.
  The comments below each selector indicate which utility classes
  should be added to the component's className prop.
  
  Pattern: Keep only styles that cannot be replaced with utilities:
  - Complex selectors (pseudo-classes, nested selectors)
  - Custom values not in design tokens
  - Gradients and complex backgrounds
  - Specific positioning values
*/

.gameBoard {
  /* Custom gradient background - cannot be replaced with utility */
  background: linear-gradient(135deg, var(--color-felt-green-dark), var(--color-felt-green));
  color: var(--color-white);
}
/* Add utilities: w-full h-screen overflow-hidden */

/* When inside a container (like Storybook), use available height */
.gameBoard:not(.fullscreen) {
  height: 100%;
  min-height: 500px;
}

/* REMOVED - Use utilities: max-w-full max-h-full */
/* .responsive {} */

/* REMOVED - Use utilities: text-center p-2xl bg-surface rounded-lg */
/* .loadingMessage {} */

.gameHeader {
  border-bottom: 2px solid var(--color-wood-brown);
  flex-shrink: 0;
}
/* Add utilities: py-md px-2xl bg-surface */

/* Minimap version - compact header in top-left corner */
.gameHeaderMinimap {
  top: var(--space-md);
  left: var(--space-md);
  z-index: var(--z-header);
  background: var(--bg-black-alpha);
  border: var(--border-default) solid var(--color-wood-brown);
  min-width: var(--width-sidebar-narrow);
  max-width: var(--width-sidebar-wide);
}
/* Add utilities: absolute p-sm rounded-md backdrop-blur-sm flex-column gap-xs text-sm text-primary */

/* REMOVED - Use utilities: flex-column gap-xs */
/* .gameInfoMinimap {} */

.gameInfoMinimap h2 {
  color: var(--color-gold);
}
/* Add utilities: m-0 text-md */

.gameInfoMinimap p {
  opacity: var(--opacity-high);
}
/* Add utilities: m-0 text-xs */

.scoreDisplayMinimap {
  border-top: var(--border-thin) solid var(--border-white-alpha);
}
/* Add utilities: gap-sm pt-xs mt-xs */

/* REMOVED - Use utilities: flex-column-center gap-xs */
/* .scoreTeamMinimap {} */

.scoreTeamMinimap .teamName {
  opacity: var(--opacity-low);
}
/* Add utilities: text-xs font-semibold */

.scoreTeamMinimap .teamScore {
  color: var(--color-gold);
}
/* Add utilities: text-lg font-bold */

/* REMOVED - Use utility: gap-md */
/* .gameStatus {} */

.scoreDisplay {
  background: var(--surface-variant);
}
/* Add utilities: gap-lg py-sm px-md rounded-md */

/* REMOVED - Use utility: gap-sm */
/* .scoreTeam {} */

.scoreTeam .teamName {
  /* All styles can be replaced with utilities */
}
/* Add utilities: font-semibold text-secondary */

.scoreTeam .teamScore {
  color: var(--primary);
}
/* Add utilities: text-xl font-bold */

.mainContent {
  flex: 1;
}
/* Add utilities: p-lg relative overflow-hidden */

/* Diamond Layout Container */
.diamondContainer {
  width: var(--width-almost-full);
  max-width: var(--max-width-lg);
  aspect-ratio: var(--aspect-square);
}
/* Add utilities: relative mx-auto */

/* Player Position Classes */
.player {
  transition: var(--transition-normal);
}
/* Add utilities: absolute flex-column-center gap-md */

.playerNorth {
  top: 0;
  left: 50%;
  transform: var(--transform-center-x);
}

.playerEast {
  top: 50%;
  right: 0;
  transform: var(--transform-center-y);
}

.playerSouth {
  bottom: 0;
  left: 50%;
  transform: var(--transform-center-x);
}

.playerWest {
  top: 50%;
  left: 0;
  transform: var(--transform-center-y);
}

/* Play Area */
.playArea {
  transform: var(--transform-center);
  width: var(--width-medium);
  height: var(--height-medium);
  background: var(--bg-black-subtle);
  border: var(--border-default) dashed var(--border-white-alpha);
}
/* Add utilities: absolute-center flex-center rounded-lg */

/* REMOVED - Use utilities: grid grid-cols-2 gap-md p-md */
/* .playedDominoes {} */

/* Bidding Interface */
.biddingContainer {
  transform: var(--transform-center);
  min-width: var(--width-modal-min);
  max-width: var(--width-almost-full);
  z-index: var(--z-modal);
}
/* Add utilities: absolute-center bg-surface rounded-lg shadow-xl p-xl */

/* REMOVED - Use utilities: flex-column gap-xs */
/* .gameInfo {} */

.gameInfo h2 {
  color: var(--text-primary);
}
/* Add utilities: m-0 text-xl */

.gameInfo p {
  /* All styles can be replaced with utilities */
}
/* Add utilities: m-0 text-secondary text-sm */

/* Status Messages */
.statusMessage {
  bottom: var(--space-xl);
  left: 50%;
  transform: var(--transform-center-x);
  background: var(--bg-black-alpha);
  color: var(--color-white);
  transition: var(--transition-normal);
}
/* Add utilities: absolute py-sm px-lg rounded-md shadow-lg text-lg */

/* Responsive Design */
@media (max-width: var(--breakpoint-md)) {
  .gameHeader {
    /* Override utilities at this breakpoint: py-sm px-md flex-wrap gap-sm */
  }

  .gameInfo h2 {
    /* Override utility: text-lg */
  }

  .scoreDisplay {
    /* Override utilities at this breakpoint: py-xs px-sm gap-sm */
  }

  .scoreTeam .teamScore {
    /* Override utility: text-lg */
  }

  .diamondContainer {
    width: var(--width-near-full);
  }

  .player {
    /* Override utility at this breakpoint: gap-sm */
  }

  .playArea {
    width: var(--width-half);
    height: var(--height-half);
  }

  .biddingContainer {
    min-width: var(--width-form-min);
    /* Override utility at this breakpoint: p-lg */
  }

  .statusMessage {
    bottom: var(--space-md);
    /* Override utilities at this breakpoint: py-xs px-md text-md */
  }
}

@media (max-width: var(--breakpoint-sm)) {
  .gameHeaderMinimap {
    min-width: var(--width-button-wide);
    /* Override utilities at this breakpoint: p-xs text-xs */
  }

  .diamondContainer {
    /* Override utility at this breakpoint: w-full */
  }

  .playArea {
    width: var(--width-large);
    height: var(--height-large);
  }
}

/* Partnership indicators */
.partnershipNorthSouth {
  background: rgba(227, 242, 253, 0.95);
  border: 2px solid #2196f3;
}

.partnershipEastWest {
  background: rgba(255, 243, 205, 0.95);
  border: 2px solid #ff9800;
}

/* Dealer indicator */
.dealer {
  border: 3px solid var(--color-warning) !important;
  box-shadow: 0 0 0 4px rgba(251, 191, 36, 0.2);
}

/* Player Area Styles */
.playerArea {
  background: rgba(255, 255, 255, 0.95);
  border-radius: var(--radius-md);
  padding: var(--spacing-md);
  box-shadow: var(--shadow-sm);
  min-width: 200px;
  min-height: 150px;
  transition: var(--transition-fast);
  border: 1px solid var(--border);
}

.playerArea.currentPlayer {
  border: 2px solid var(--color-primary);
  box-shadow: 0 0 0 3px rgba(0, 102, 204, 0.2), var(--shadow-md);
}

.playerArea.currentBidder {
  background: rgba(0, 102, 204, 0.1);
  border: 2px solid var(--color-primary);
}

/* Player Info Section */
.playerInfo {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--spacing-xs);
  margin-bottom: var(--spacing-sm);
}

.playerName {
  font-size: var(--font-size-lg);
  font-weight: 600;
  color: var(--color-domino-black);
  text-align: center;
}

/* Badge Styles */
.dealerBadge,
.currentBidderBadge,
.currentPlayerBadge {
  display: inline-flex;
  align-items: center;
  padding: 2px 8px;
  border-radius: var(--radius-sm);
  font-size: var(--font-size-xs);
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.dealerBadge {
  background: #ffc107;
  color: #000;
}

.currentBidderBadge {
  background: var(--color-primary);
  color: #fff;
}

.currentPlayerBadge {
  background: var(--color-success);
  color: #fff;
}

/* Player Hand */
.playerHand {
  margin-top: var(--spacing-sm);
}

/* Partnership Text */
.partnershipText {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: var(--font-size-xl);
  font-weight: 700;
  color: var(--text-primary);
  text-align: center;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  z-index: 10;
}

.partnershipNorthSouth .partnershipText {
  color: var(--primary);
}

.partnershipEastWest .partnershipText {
  color: var(--warning);
}